import"./main-D45ISpvz.js";import{m as k}from"./maplibre-gl-DtRcNtl7.js";const B=JSON.parse(localStorage.getItem("gameSettings")).Timer||"30 seconds";function j(){switch(B){case"30 seconds":i=30;break;case"1 minute":i=60;break;case"2 minutes":i=120;break;case"3 minutes":i=180;break;case"4 minutes":i=240;break;case"5 minutes":i=300;break;default:i=120}return i}const s=[{name:"Charles de Gaulle",country:"France",quote:"How can you govern a country with 246 types of cheese?",image:"degoll.jpg"},{name:"Francisco Franco",country:"Spain",quote:"Our regime is based on bayonets and blood, not on hypocritical elections.",image:"franko.jpg"},{name:"Winston Churchill",country:"United Kingdom",quote:"Success is not final, failure is not fatal: it is the courage to continue that counts.",image:"churchil.png"},{name:"Benito Mussolini",country:"Italy",quote:"It is better to live one day as a lion than 100 years as a sheep.",image:"mussolini.jpg"},{name:"Adolf Hitler",country:"Germany",quote:"The victor will never be asked if he told the truth.",image:"hitler.webp"},{name:"Joseph Stalin",country:"Russia",quote:"A single death is a tragedy; a million deaths is a statistic.",image:"stalin.jpg"},{name:"Józef Piłsudski",country:"Poland",quote:"To be defeated and not submit, is victory; to be victorious and rest on one's laurels, is defeat.",image:"pilsudski.jpg"},{name:"Salazar",country:"Portugal",quote:"Politics is the art of the impossible.",image:"salazar.jpg"},{name:"Engelbert Dollfuss",country:"Austria",quote:"Austria must remain Austrian.",image:"dollfuss.jpg"},{name:"Ante Pavelić",country:"Croatia",quote:"Croatia has always been a nation of warriors.",image:"pavelic.jpg"},{name:"Ion Antonescu",country:"Romania",quote:"Romania's destiny is tied to the Axis powers.",image:"antonescu.jpg"},{name:"Miklós Horthy",country:"Hungary",quote:"Hungary must regain its former glory.",image:"horthy.jpg"},{name:"King Boris III",country:"Bulgaria",quote:"Bulgaria's independence is paramount.",image:"boris.jpg"},{name:"Ioannis Metaxas",country:"Greece",quote:"Greece will never surrender its freedom.",image:"metaxas.jpg"},{name:"Vidkun Quisling",country:"Norway",quote:"Norway's future lies with the new Europe.",image:"quisling.jpg"},{name:"Carl Gustaf Mannerheim",country:"Finland",quote:"Finland must defend its independence at all costs.",image:"mannerheim.jpg"},{name:"King Leopold III",country:"Belgium",quote:"Belgium's neutrality must be preserved.",image:"leopold.jpg"},{name:"Queen Wilhelmina",country:"Netherlands",quote:"The Netherlands will never bow to tyranny.",image:"wilhelmina.jpg"},{name:"Per Albin Hansson",country:"Sweden",quote:"Sweden's neutrality serves the cause of peace.",image:"hansson.jpg"},{name:"Christian X",country:"Denmark",quote:"Denmark stands with its people in all circumstances.",image:"christian.jpg"},{name:"Édouard Daladier",country:"France",quote:"We have won the peace.",image:"daladier.jpg"},{name:"Neville Chamberlain",country:"United Kingdom",quote:"Peace for our time.",image:"chamberlain.jpg"},{name:"Eduard Beneš",country:"Czechoslovakia",quote:"A diplomat must always think twice before he says nothing.",image:"benes.jpg"},{name:"Alexander I",country:"Yugoslavia",quote:"Yugoslavia must be united, or it will fall apart.",image:"alexander.jpg"},{name:"Aristide Briand",country:"France",quote:"The League of Nations is the hope of civilization.",image:"briand.jpg"},{name:"Alcide De Gasperi",country:"Italy",quote:"The future will not be built on hate but on hope.",image:"degasperi.jpg"},{name:"Otto von Habsburg",country:"Austria",quote:"The nations of Europe must unite, or they will perish.",image:"habsburg.jpg"},{name:"Todor Zhivkov",country:"Bulgaria",quote:"Socialism is not a dogma but a process.",image:"zhivkov.jpg"},{name:"Gheorghe Tătărescu",country:"Romania",quote:"National unity is the foundation of progress.",image:"tatarescu.jpg"},{name:"Ferenc Szálasi",country:"Hungary",quote:"Hungary must rise again in the spirit of unity.",image:"szalasi.jpg"},{name:"Paul Reynaud",country:"France",quote:"We will fight, and we will win.",image:"reynaud.jpg"},{name:"Arvid Lindman",country:"Sweden",quote:"Compromise and moderation are the pillars of stability.",image:"lindman.jpg"},{name:"Pieter Sjoerds Gerbrandy",country:"Netherlands",quote:"Our struggle is for the soul of the Dutch nation.",image:"gerbrandy.jpg"},{name:"Károlyi Mihály",country:"Hungary",quote:"Peace cannot be dictated by arms.",image:"karolyi.jpg"},{name:"Kristján X",country:"Iceland",quote:"We are a small nation with great resolve.",image:"kristjan.jpg"},{name:"Trygve Lie",country:"Norway",quote:"The UN is the hope of the world.",image:"lie.jpg"},{name:"Jānis Čakste",country:"Latvia",quote:"Freedom is the lifeblood of our people.",image:"cakste.jpg"},{name:"Antanas Smetona",country:"Lithuania",quote:"A free Lithuania is a just Lithuania.",image:"smetona.jpg"},{name:"Konstantin Päts",country:"Estonia",quote:"We are guardians of our independence.",image:"pats.jpg"},{name:"Klement Gottwald",country:"Czechoslovakia",quote:"The working class is the backbone of our republic.",image:"gottwald.jpg"}],C=["France","Spain","United Kingdom","Italy","Germany","Russia","Poland","Netherlands","Belgium","Portugal","Sweden","Austria","Norway","Denmark","Finland","Switzerland","Croatia","Romania","Hungary","Bulgaria","Greece","Czech Republic","Slovakia","Ukraine"],f={France:[2.3522,46.2276],Spain:[-3.7038,40.4168],"United Kingdom":[-.1276,51.5074],Italy:[12.4964,41.9028],Germany:[13.405,52.52],Russia:[37.6176,55.7558],Poland:[19.1451,51.9194],Netherlands:[5.2913,52.1326],Belgium:[4.4699,50.5039],Portugal:[-9.1393,38.7223],Sweden:[18.0686,59.3293],Austria:[16.3738,48.2082],Norway:[10.7522,59.9139],Denmark:[12.5683,55.6761],Finland:[24.9384,60.1699],Switzerland:[8.2275,46.8182],Croatia:[15.9819,45.815],Romania:[26.1025,44.4268],Hungary:[19.0402,47.4979],Bulgaria:[23.3219,42.6977],Greece:[23.7275,37.9755],"Czech Republic":[14.4378,50.0755],Slovakia:[19.699,48.669],Ukraine:[30.5234,50.4501]};let r=0,l=0,d=!1,q,i,g=4,o,c=!1;j();function A(){o=new k.Map({container:"map-three",style:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",center:[10,50],zoom:3.5}),o.on("load",function(){o.getCanvas().style.filter="hue-rotate(120deg) saturate(1.2) brightness(0.8)",x()})}async function x(){try{const t=await fetch("/democracy-game/assets/data/wm2.geojson");if(!t.ok)throw new Error(`Failed to load GeoJSON: ${t.statusText}`);const e=await t.json();o.addSource("countries",{type:"geojson",data:e}),o.addLayer({id:"countries-layer",type:"fill",source:"countries",layout:{},paint:{"fill-color":["case",["==",["get","answer_status"],"correct"],"#47E18D",["==",["get","answer_status"],"incorrect"],"#ff4757","#ba68c8"],"fill-opacity":.7}}),o.addLayer({id:"countries-outline",type:"line",source:"countries",layout:{},paint:{"line-color":"#FFEADB","line-width":1}}),o.on("click","countries-layer",function(n){if(d&&r<s.length&&!c){const a=n.features[0].properties.NAME;z(a)}}),o.on("mouseenter","countries-layer",function(){d&&!c&&(o.getCanvas().style.cursor="pointer")}),o.on("mouseleave","countries-layer",function(){o.getCanvas().style.cursor=""})}catch(t){console.error("Error loading country data:",t)}}function p(t,e){if(!o.getSource("countries"))return;const n=o.getSource("countries"),a=n._data;a.features.forEach(u=>{u.properties.NAME===t&&(u.properties.answer_status=e)}),n.setData(a)}function L(){if(!o.getSource("countries"))return;const t=o.getSource("countries"),e=t._data;e.features.forEach(n=>{delete n.properties.answer_status}),t.setData(e)}function M(){j(),b(),c=!1,q=setInterval(function(){c||(i--,b(),i<=0&&y("time"))},1e3)}function N(){c=!0}function G(){c=!1}function b(){const t=Math.floor(i/60),e=i%60;document.getElementById("timer").textContent=`${t.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`}function T(){clearInterval(q),c=!1}function H(){g--,h(),g<=0&&y("hearts")}function h(){document.querySelectorAll(".heart").forEach((e,n)=>{n>=g?e.classList.add("lost"):e.classList.remove("lost")})}function I(t){const e=[...t];for(let n=e.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[e[n],e[a]]=[e[a],e[n]]}return e}function D(t){const e=C.filter(u=>u!==t),n=I(e).slice(0,3),a=[t,...n];return I(a)}function v(){if(r>=s.length){y("completed");return}const t=s[r];L();const e=`/democracy-game/assets/images/${t.image}`;document.getElementById("person-image").src=e,document.getElementById("person-image").onerror=function(){this.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiBmaWxsPSIjNjY3ZWVhIi8+Cjx0ZXh0IHg9IjYwIiB5PSI2NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0id2hpdGUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCI+UG9ydHJhaXQ8L3RleHQ+Cjwvc3ZnPgo="},document.getElementById("quote-text").textContent=`"${t.quote}"`,document.getElementById("quote-text").classList.remove("placeholder-quote"),document.getElementById("quote-cite").textContent=`— ${t.name}`;const n=D(t.country),a=document.getElementById("country-buttons");a.innerHTML="",n.forEach(u=>{const m=document.createElement("button");m.className="country-btn",m.textContent=u,m.dataset.country=u,m.addEventListener("click",()=>P(u,t.country)),a.appendChild(m)}),document.getElementById("counter-overall").textContent=s.length.toString().padStart(2,"0"),E(),d&&r>0&&G()}function P(t,e){S(t,e)}function z(t){const e=s[r];e&&S(t,e.country)}function S(t,e){N(),document.querySelectorAll(".country-btn").forEach(a=>{a.disabled=!0,a.dataset.country===e?a.classList.add("correct"):a.dataset.country===t&&t!==e&&a.classList.add("incorrect")}),t===e?(l++,document.getElementById("counter-correct").textContent=l.toString().padStart(2,"0"),p(e,"correct")):(H(),p(t,"incorrect"),p(e,"correct")),w(e,!0),t!==e&&w(t,!1),r<s.length-1?document.getElementById("next-btn").style.display="inline-block":document.getElementById("end-btn").style.display="inline-block"}function w(t,e=!1){f[t]&&o.flyTo({center:f[t],zoom:5,duration:2e3})}function E(){o.flyTo({center:[10,50],zoom:3.5,duration:1e3})}function F(){r++,document.getElementById("next-btn").style.display="none",E(),v()}function Z(){d=!0,r=0,l=0,g=4,i=60,document.getElementById("start-btn").style.display="none",document.getElementById("end-btn").style.display="inline-block",document.getElementById("counter-correct").textContent="00",h(),M(),v()}function y(t="manual"){T(),d=!1;let e="";const n=s.length>0?Math.round(l/s.length*100):0;switch(t){case"time":e=`Time's up! You answered ${l} out of ${r+1} questions correctly.`;break;case"hearts":e=`No hearts left! You answered ${l} out of ${r+1} questions correctly.`;break;case"completed":e=`Congratulations! You completed all questions and got ${l} out of ${s.length} correct (${n}%).`;break;default:e=`Game ended. You got ${l} out of ${Math.max(r,1)} questions correct.`}document.getElementById("final-score").textContent=e,document.getElementById("game-over").classList.add("show")}document.getElementById("start-btn").addEventListener("click",Z);document.getElementById("next-btn").addEventListener("click",F);document.getElementById("end-btn").addEventListener("click",()=>y("manual"));document.addEventListener("DOMContentLoaded",function(){A(),h()});
